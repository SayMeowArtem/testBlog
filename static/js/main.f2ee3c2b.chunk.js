(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(t,e,a){},109:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),s=a(8),i=a.n(s),o=a(24),r=(a(81),a(15)),l=a(13),j=a(16),d=a(12),u=a(4),p=a(44),b=a.n(p),O=a(3),h=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/"},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",path:"/addpost"}],m=function(){var t=Object(n.useState)(0),e=Object(r.a)(t,2),a=e[0],c=e[1];return Object(O.jsx)("nav",{children:Object(O.jsx)("ul",{className:b.a.Menu,children:h.map((function(t,e){return Object(O.jsx)("li",{onClick:function(){return function(t){c(t)}(e)},className:Object(u.a)(e===a?b.a.active:"",b.a.color),children:Object(O.jsx)(o.b,{to:t.path,children:t.name})},t.name)}))})})},x=a(64),_=a.n(x),g=function(){return Object(O.jsxs)("header",{className:_.a.header,children:[Object(O.jsx)("div",{children:"Test Task"}),Object(O.jsx)(m,{})]})},v=a(139),f=a(65),P=a.n(f),N=a(37),y=a.n(N),T=function(t){var e=t.title,a=void 0===e?"":e,n=t.author,c=void 0===n?"":n,s=t.urlToImage,i=void 0===s?"":s,r=t.content,l=void 0===r?"":r;return Object(O.jsxs)("div",{className:y.a.item,children:[Object(O.jsx)("div",{children:Object(O.jsx)(o.b,{to:{pathname:"/post",state:{data:{title:a,author:c,urlToImage:i,content:l}}},children:Object(O.jsx)("img",{src:i.includes("https")?i:"https://cdn.modernghana.com/story_/1024/728/920202071209-txobredq5l-john-scores.jpg"})})}),Object(O.jsxs)("div",{className:y.a.title,children:[Object(O.jsx)("div",{className:y.a.title_text,children:Object(O.jsx)(o.b,{to:{pathname:"/post",state:{data:{title:a,author:c,urlToImage:i,content:l}}},children:a})}),Object(O.jsxs)("div",{className:y.a.author,children:["Author: ",c]})]})]})},k=(a(87),function(t){var e=t.dispatch,a=t.state,n=Math.ceil(a.posts.length/a.postPerPage),c=a.page*a.postPerPage,s=a.posts.slice(c,c+a.postPerPage).map((function(t){return Object(O.jsx)(T,{title:t.title,author:t.author,urlToImage:t.urlToImage,content:t.content},Math.random().toString(36).substring(7))}));return Object(O.jsx)("div",{children:a.postsLoaded?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"postContainer",children:s}),Object(O.jsx)(P.a,{previousLabel:"\u2190",nextLabel:"\u2192",pageCount:n,onPageChange:function(t){var a=t.selected;e({type:"UPDATE_ACTIVE_PAGE",payload:a})},containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active"})]}):Object(O.jsx)(v.a,{})})}),A=a(70),C=a(144),L=a(145),D=a(143),I=Object(D.a)({form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},button:{marginTop:"25px"},input:{marginBottom:"25px",width:"500px"}}),S=function(t){var e=t.dispatch,a=(t.state,I()),c=Object(A.a)(),s=c.register,i=c.handleSubmit,o=c.reset,l=Object(n.useState)(!1),d=Object(r.a)(l,2),u=d[0],p=d[1];return Object(O.jsxs)("form",{className:a.form,onSubmit:i((function(t){e({type:"ADD_POST",payload:t}),o(),p(!0),setTimeout((function(){p(!1)}),2e3)})),children:[Object(O.jsx)(C.a,Object(j.a)({label:"title",className:a.input},s("title",{required:!0,maxLength:30}))),Object(O.jsx)(C.a,Object(j.a)({label:"content",multiline:!0,className:a.input},s("content",{required:!0}))),Object(O.jsx)(C.a,Object(j.a)({label:"author",className:a.input},s("author",{required:!1,maxLength:30}))),Object(O.jsx)(C.a,Object(j.a)({label:"urlToImage",className:a.input},s("urlToImage",{required:!0}))),Object(O.jsx)(L.a,{className:a.button,type:"submit",variant:"contained",color:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"}),u&&Object(O.jsx)("div",{children:"\u0417\u0430\u043f\u0438\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430!"})]})},E=a(45),M=a.n(E),q=function(t){var e=Object(d.e)(),a=t.location.state.data,n=a.title,c=a.urlToImage,s=a.content;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:M.a.title,children:n}),Object(O.jsx)("div",{className:M.a.img,children:Object(O.jsx)("img",{src:c,alt:c})}),Object(O.jsx)("div",{className:M.a.content,children:s}),Object(O.jsx)(L.a,{onClick:function(){return e.push("/")},variant:"contained",color:"primary",children:"Back To Main Page"})]})},w=a(69),B=a.n(w),R=(a(108),{posts:[],postsLoaded:!1,page:0,postPerPage:6});function U(t,e){switch(e.type){case"LOAD_POST":return Object(j.a)(Object(j.a)({},t),{},{posts:e.payload});case"POST_LOADED":return Object(j.a)(Object(j.a)({},t),{},{postsLoaded:!0});case"UPDATE_ACTIVE_PAGE":return Object(j.a)(Object(j.a)({},t),{},{page:e.payload});case"ADD_POST":return Object(j.a)(Object(j.a)({},t),{},{posts:[e.payload].concat(Object(l.a)(t.posts))});default:return t}}var W=function(){var t=c.a.useReducer(U,R),e=Object(r.a)(t,2),a=e[0],s=e[1];return Object(n.useEffect)((function(){B.a.get("https://newsapi.org/v2/everything?q=Apple&from=2021-06-05&sortBy=popularity&apiKey=ffc8f62fc1574ddcae44a5b7394821bc").then((function(t){s({type:"LOAD_POST",payload:t.data.articles}),s({type:"POST_LOADED"})}))}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(g,{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(d.a,{path:"/",exact:!0,children:Object(O.jsx)(k,{dispatch:s,state:a})}),Object(O.jsx)(d.a,{path:"/addpost",children:Object(O.jsx)(S,{dispatch:s,state:a})}),Object(O.jsx)(d.a,{path:"/post",exact:!0,component:q})]})]})};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(W,{})})}),document.getElementById("root"))},37:function(t,e,a){t.exports={item:"Post_item__2wOdR",title:"Post_title__3jCvR",title_text:"Post_title_text__145mO",author:"Post_author__2_Cva"}},44:function(t,e,a){t.exports={Menu:"navigation_Menu__1pLFU",active:"navigation_active__-MWkh"}},45:function(t,e,a){t.exports={img:"PostPage_img__1-poa",content:"PostPage_content__oWrY8",link:"PostPage_link__3aqWc"}},64:function(t,e,a){t.exports={header:"header_header__1Z6NZ"}},81:function(t,e,a){},87:function(t,e,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.f2ee3c2b.chunk.js.map