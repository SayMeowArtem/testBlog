{"version":3,"sources":["Components/Navigation/indext.tsx","Components/Header/index.tsx","Components/Post/index.tsx","pages/MainPage/index.tsx","utils/index.js","pages/AddPostPage/index.tsx","actions/index.js","pages/PostPage/index.tsx","App.tsx","index.tsx","Components/Post/Post.module.css","Components/Navigation/navigation.module.css","pages/PostPage/PostPage.module.css","Components/Header/header.module.css"],"names":["pages","name","path","Navigation","useState","activePage","setactivePage","className","styles","Menu","map","page","index","onClick","selectMenu","clsx","active","color","to","HeaderComponent","header","PostItem","title","author","urlToImage","content","item","pathname","state","data","src","includes","title_text","MainPage","dispatch","pageCount","Math","ceil","posts","length","postPerPage","offset","currentPageData","slice","el","Post","random","toString","substring","postsLoaded","previousLabel","nextLabel","onPageChange","selectedPage","selected","type","payload","containerClassName","previousLinkClassName","nextLinkClassName","disabledClassName","activeClassName","CircularProgress","useStyles","makeStyles","form","display","flexDirection","justifyContent","alignItems","button","marginTop","input","marginBottom","width","AddPostPage","classes","useForm","register","handleSubmit","reset","alert","setalert","onSubmit","setTimeout","TextField","label","required","maxLength","multiline","Button","variant","PostPage","props","history","useHistory","location","img","alt","push","initialState","reducer","action","App","React","useReducer","useEffect","axios","get","then","res","articles","Header","exact","component","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.eea8f576.chunk.js","sourcesContent":["import React, {useState} from 'react'\r\nimport clsx from 'clsx';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nimport styles from './navigation.module.css'\r\n\r\ninterface IPageItem {\r\n    name: string,\r\n    path: string\r\n}\r\n\r\nconst pages: IPageItem[] = [\r\n    {\r\n        name: 'Главная',\r\n        path: '/'\r\n    },\r\n    {\r\n        name: 'Добавить запись',\r\n        path: '/addpost'\r\n    }\r\n]\r\n\r\nconst Navigation: React.FC = () => {\r\n\r\n    const [activePage, setactivePage] = useState<number>(0)\r\n\r\n    const selectMenu = (index : number): void => {\r\n        setactivePage(index)\r\n    }\r\n\r\n    return (\r\n        <nav>\r\n            <ul className={styles.Menu}>\r\n                {pages.map((page,index) => <li key={page.name} onClick={() => selectMenu(index)} className={clsx(index === activePage ? styles.active : '', styles.color)}><Link to={page.path}>{page.name}</Link></li>)}\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation\r\n","import React from 'react'\r\nimport Navigation from '../Navigation/indext'\r\nimport styles from './header.module.css'\r\n\r\nconst HeaderComponent: React.FC = () => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <div>\r\n              Test Task\r\n            </div>\r\n            <Navigation/>\r\n        </header>\r\n      );\r\n}\r\n\r\nexport default HeaderComponent\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styles from './Post.module.css'\r\n\r\nexport interface IPost {\r\n    title?: string,\r\n    author?: string,\r\n    content?: string,\r\n    urlToImage?: string\r\n}\r\n\r\nconst PostItem: React.FC<IPost> = ({title = '', author = '', urlToImage = '', content= ''}: IPost) => {\r\n    return (\r\n        <div className={styles.item}>\r\n            <div>\r\n            <Link to={{\r\n                        pathname: '/post',\r\n                        state: {\r\n                            data: {title, author, urlToImage, content}\r\n                        }\r\n                    }}><img src={urlToImage.includes('https') ?  urlToImage : 'https://cdn.modernghana.com/story_/1024/728/920202071209-txobredq5l-john-scores.jpg'}/></Link>\r\n            </div>\r\n            <div className={styles.title}> \r\n                <div className={styles.title_text}>\r\n                    <Link to={{\r\n                        pathname: '/post',\r\n                        state: {\r\n                            data: {title, author, urlToImage, content}\r\n                        }\r\n                    }}>{title}</Link>\r\n                </div>\r\n                <div className={styles.author}>\r\n                    Author: {author}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostItem\r\n","import CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ReactPaginate from \"react-paginate\";\r\nimport PostItem from '../../Components/Post';\r\nimport { GeneraterandomNumber } from '../../utils';\r\nimport { IReduceProps } from './../AddPostPage'\r\n\r\nimport './mainPage.css'\r\n\r\nconst MainPage: React.FC<IReduceProps> = ({dispatch, state}: IReduceProps) => {\r\n\r\n    const pageCount: number = Math.ceil(state.posts.length / state.postPerPage);\r\n    const offset: number = state.page * state.postPerPage;\r\n\r\n    const currentPageData = state.posts\r\n      .slice(offset, offset + state.postPerPage)\r\n      .map((el) => <PostItem key={GeneraterandomNumber()} title={el.title} author={el.author} urlToImage={el.urlToImage} content={el.content}/>);\r\n\r\n    function handlePageClick({ selected: selectedPage }) {\r\n        dispatch({type: 'UPDATE_ACTIVE_PAGE', payload: selectedPage })\r\n      }\r\n    return (\r\n        <div>\r\n         {!state.postsLoaded ? <CircularProgress /> :\r\n            <> \r\n                <div className='postContainer'>{currentPageData}</div>\r\n                <ReactPaginate\r\n                    previousLabel={\"←\"}\r\n                    nextLabel={\"→\"}\r\n                    pageCount={pageCount}\r\n                    onPageChange={handlePageClick}\r\n                    containerClassName={\"pagination\"}\r\n                    previousLinkClassName={\"pagination__link\"}\r\n                    nextLinkClassName={\"pagination__link\"}\r\n                    disabledClassName={\"pagination__link--disabled\"}\r\n                    activeClassName={\"pagination__link--active\"}\r\n                />\r\n            </>    \r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainPage\r\n","export const GeneraterandomNumber = () => Math.random().toString(36).substring(7);\r\n","import React, { useState } from 'react'\r\nimport { useForm, SubmitHandler} from \"react-hook-form\";\r\nimport { TextField , Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { addPostActionCreator } from '../../actions';\r\nimport { IState } from '../../App';\r\n\r\n\r\ninterface IFormInput {\r\n    title: string;\r\n    author: string;\r\n    content: string;\r\n    urlToImage: string\r\n}\r\n\r\nexport interface IReduceProps {\r\n    dispatch: (action: any) => void,\r\n    state: IState\r\n}\r\n\r\n  const useStyles = makeStyles({\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    button: {\r\n        marginTop: '25px'\r\n    },\r\n    input: {\r\n        marginBottom: '25px',\r\n        width: '500px'\r\n    }\r\n  });\r\n  \r\n\r\nconst AddPostPage: React.FC<IReduceProps> = ({dispatch, state}: IReduceProps) => {\r\n   \r\n    const classes = useStyles();\r\n    const { register, handleSubmit, reset} = useForm<IFormInput>();\r\n    const [alert, setalert] = useState(false);\r\n\r\n    const onSubmit: SubmitHandler<IFormInput> = (data): void => {\r\n        dispatch(addPostActionCreator(data))\r\n        reset();\r\n        setalert(true);\r\n        setTimeout(() => {\r\n            setalert(false)\r\n        }, 2000)\r\n    }\r\n\r\n    return (\r\n    <form className={classes.form}  onSubmit={handleSubmit(onSubmit)}>\r\n      <TextField label=\"title\"  className={classes.input} {...register(\"title\", { required: true, maxLength: 30 })} />\r\n      <TextField label=\"content\"  multiline className={classes.input} {...register(\"content\", { required: true})} />\r\n      <TextField label=\"author\"  className={classes.input} {...register(\"author\", { required: false, maxLength: 30})} /> \r\n      <TextField label=\"urlToImage\" className={classes.input} {...register(\"urlToImage\", { required: true})} /> \r\n      <Button  className={classes.button} type=\"submit\" variant=\"contained\" color=\"primary\">Добавить запись</Button>\r\n      { alert && <div>Запись добавлена!</div>}\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default AddPostPage\r\n","export const LoadPostsActionCreator = (payload) => ({\r\n  type: 'LOAD_POST',\r\n  payload,\r\n});\r\n\r\nexport const isPostLoadedActionCreator = () => ({\r\n  type: 'POST_LOADED',\r\n});\r\n\r\nexport const addPostActionCreator = (payload) => ({\r\n  type: 'ADD_POST',\r\n  payload,\r\n});\r\n","import { Button } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nimport styles from './PostPage.module.css'\r\n\r\n\r\nconst PostPage: React.FC = (props) => {\r\n    const history = useHistory();\r\n   \r\n    //@ts-ignore\r\n    const {title, urlToImage, content} = props.location.state.data\r\n    return (\r\n        <div>\r\n            <div className={styles.title}>{title}</div>\r\n            <div className={styles.img}><img src={urlToImage} alt={urlToImage} /></div>\r\n            <div className={styles.content}>{content}</div>\r\n            <Button  onClick={() => history.push('/')} variant='contained' color='primary'>Back To Main Page</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostPage\r\n","import {\n  Route,\n} from \"react-router-dom\";\nimport HeaderComponent from './Components/Header';\nimport MainPage from './pages/MainPage';\nimport AddPostPage from './pages/AddPostPage';\nimport PostPage from './pages/PostPage';\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { isPostLoadedActionCreator, LoadPostsActionCreator} from \"./actions/index\";\nimport {IPost} from './Components/Post'\n\nimport './App.css'\n\nexport interface IState {\n  posts: IPost[],\n  postsLoaded: boolean,\n  page: number,\n  postPerPage: number\n}\n\nconst initialState: IState = {\n  posts: [],\n  postsLoaded: false,\n  page: 0,\n  postPerPage: 6\n}\n\n\nfunction reducer(state : IState, action) {\n  switch (action.type) {\n    case 'LOAD_POST': return { ...state, posts: action.payload};\n    case 'POST_LOADED': return { ...state, postsLoaded: true};\n    case 'UPDATE_ACTIVE_PAGE': return {...state, page: action.payload};\n    case 'ADD_POST': return {...state, posts: [action.payload, ...state.posts]}\n    default: return state;\n  }\n}\n\nconst  App: React.FC = () => {\n\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  \n  useEffect(() => {\n    axios.get('https://newsapi.org/v2/everything?q=Apple&from=2021-06-05&sortBy=popularity&apiKey=ffc8f62fc1574ddcae44a5b7394821bc').then(\n        (res) => {\n            dispatch(LoadPostsActionCreator(res.data.articles))\n            dispatch(isPostLoadedActionCreator())\n        }\n      )\n  }, [])\n\n\n  return (\n    <div className='App'>\n      <HeaderComponent />\n        <div className='container'>\n          <Route path='/testBlog/' exact>\n            <MainPage dispatch={dispatch} state={state}/>\n          </Route>\n          <Route path='/addpost'>\n            <AddPostPage dispatch={dispatch} state={state}/>\n          </Route>\n          <Route path='/post' exact component={PostPage}/>\n        </div>\n    </div>\n   \n  );\n}\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\"\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n       <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2wOdR\",\"title\":\"Post_title__3jCvR\",\"title_text\":\"Post_title_text__145mO\",\"author\":\"Post_author__2_Cva\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"navigation_Menu__1pLFU\",\"active\":\"navigation_active__-MWkh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"PostPage_img__1-poa\",\"content\":\"PostPage_content__oWrY8\",\"link\":\"PostPage_link__3aqWc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1Z6NZ\"};"],"sourceRoot":""}